#!/usr/bin/env bash
# Create a directory and cd to it.
# Cf. https://evanhahn.com/scripts-i-wrote-that-i-use-all-the-time/

set -euo pipefail

usage() {
    echo "Usage: $(basename "$0") [-p] DIRECTORY" >&2
}

main() {
    if [[ $# -lt 1 || $# -gt 2 ]]; then
        usage
        exit 1
    fi

    local flags=""
    if [[ $# -eq 2 ]]; then
        if [[ $1 != "-p" ]]; then
            usage
            exit 1
        fi
        flags="-p"
    fi

    echo "mkdir $flags $2"    
}

main "$@"
