# https://github.com/mathiasbynens/dotfiles

# Use Ctrl+A as the prefix key
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Make `Ctrl+A R` reload the config file
unbind r
bind r source-file ~/.tmux.conf


# GPT 5.2 Codex

# Use a modern terminal entry with truecolor support (fallbacks to 256 colors if unavailable)
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-256color:RGB"

# Start window/pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Let apps know when focus changes (improves editor/IDE behavior)
set -g focus-events on

# Vi-style keys in copy mode for muscle memory
setw -g mode-keys vi

# Increase scrollback so long logs aren't lost
set -g history-limit 10000

# Enable mouse for pane selection, resizing, and copy mode
set -g mouse on

# Minimal status bar (session + window list + date/time)
set -g status on
set -g status-position bottom
set -g status-interval 60
# Ensure tmux uses status-left/right (not status-format array)
set -gu status-format
set -g status-justify left
set -g status-style "fg=default,bg=default"
set -g status-left "#[fg=black,bg=blue]  #S  #[bg=default]  "
set -g status-left-length 20
set -g status-right "#[fg=blue]%a %d #[fg=cyan]%H:%M#[fg=default] "
set -g status-right-length 40

set -g window-status-format "#[fg=brightblack]#I #[fg=white]#W#[fg=brightblack]#{?window_flags, #F,}#[fg=default]"
set -g window-status-current-format "#[fg=cyan]#I #[fg=blue]#W#[fg=brightblack]#{?window_flags, #F,}#[fg=default]"
set -g window-status-separator "  "

# Keep window names populated by tmux while blocking app-driven renames
setw -g automatic-rename on


# Claude

# Disable automatic window renaming
set-option -g allow-rename off

# Set window name to session name after new session
set-hook -g after-new-session 'rename-window "#{session_name}"'

# Source ~/.config/dotfiles/tmux.conf if exists
# https://www.reddit.com/r/tmux/comments/o9me7e/comment/h3cczrx/
if-shell "test -e ~/.config/dotfiles/tmux/tmux.conf" "source-file ~/.config/dotfiles/tmux/tmux.conf"

# Create new windows in the current working directory
bind c new-window -c "#{pane_current_path}"
